(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-236e829e"],{"0db3":function(t,e,s){"use strict";s("fefd")},1148:function(t,e,s){"use strict";var i=s("a691"),a=s("1d80");t.exports="".repeat||function(t){var e=String(a(this)),s="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(s+=e);return s}},"12db":function(t,e,s){},"18ae":function(t,e,s){},2467:function(t,e,s){},"260c":function(t,e,s){"use strict";s("fc1b")},2612:function(t,e,s){"use strict";s("eeb1")},"38cd":function(t,e,s){"use strict";s("d5fb")},"3bd7":function(t,e,s){"use strict";s("12db")},"408a":function(t,e,s){var i=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"408e":function(t,e,s){},"6ab7":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("detail-nav",{attrs:{currentIndex:t.currentIndex},on:{navTitleClick:t.navTitleClick}}),s("scroll",{ref:"scroll",staticClass:"detail-content",attrs:{probeType:3},on:{scroll:t.scrolling}},[s("detail-swiper",{attrs:{images:t.topImages},on:{swiperImageLoad:t.scrollRefresh}}),s("item-info",{attrs:{itemInfo:t.itemInfo}}),s("shop-info",{attrs:{shopInfo:t.shopInfo}}),s("detail-images",{attrs:{detailImages:t.detailImages},on:{detailImagesLoad:t.scrollRefresh}}),s("detail-params",{ref:"detailParams",attrs:{itemParams:t.itemParams}}),s("detail-comment",{ref:"detailComment",attrs:{detailRate:t.detailRate}}),s("goods",{ref:"detailRcommend",attrs:{good:t.detailRcommend}})],1),s("to-top",{directives:[{name:"show",rawName:"v-show",value:t.toTopShow,expression:"toTopShow"}],nativeOn:{click:function(e){return t.toPos(0,0)}}}),s("detail-tool-bar",{attrs:{cartInfo:t.detailCartInfo}})],1)},a=[],n=(s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("swiper",{staticClass:"detail-swiper",scopedSlots:t._u([{key:"swiper",fn:function(){return t._l(t.images,(function(e){return s("swiper-item",{key:e.id,scopedSlots:t._u([{key:"swiperItem",fn:function(){return[s("img",{attrs:{src:e,alt:"图片加载中"},on:{load:t.swiperImageLoad}})]},proxy:!0}],null,!0)})}))},proxy:!0}])})],1)}),r=[],o=s("1753"),c={name:"detailSwiper",data:function(){return{swiperImageFlag:!0}},props:{images:{type:Array,default:function(){return[]}}},components:{swiper:o["a"],swiperItem:o["b"]},methods:{swiperImageLoad:function(){this.swiperImageFlag&&(this.$emit("swiperImageLoad"),this.swiperImageFlag=!1)}}},l=c,u=(s("e631"),s("2877")),d=Object(u["a"])(l,n,r,!1,null,"3684eed2",null),f=d.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav-bar",{staticClass:"detail-nav-bar",scopedSlots:t._u([{key:"left",fn:function(){return[i("div",{on:{click:t.back}},[i("img",{attrs:{src:s("7a74"),alt:""}})])]},proxy:!0},{key:"mid",fn:function(){return[i("div",{staticClass:"mid"},t._l(t.titles,(function(e,s){return i("span",{key:e.id,staticClass:"title",class:t.currentIndex==s?"detail-title-active":"",on:{click:function(e){return t.setCurrentIndex(s)}}},[t._v(" "+t._s(e)+" ")])})),0)]},proxy:!0}])})],1)},p=[],h=s("a7ac"),v={data:function(){return{titles:["商品","参数","评论","推荐"]}},props:{currentIndex:{type:Number,default:0}},components:{NavBar:h["a"]},methods:{setCurrentIndex:function(t){this.$emit("navTitleClick",t)},back:function(){this.$router.back()}}},_=v,I=(s("38cd"),Object(u["a"])(_,m,p,!1,null,"2b4e9996",null)),b=I.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"item-info"},[s("h3",[t._v(" "+t._s(t.itemInfo.title)+" ")]),s("div",{staticClass:"price"},[s("span",{staticClass:"item-new-price"},[t._v(t._s(t.itemInfo.price))]),s("span",{staticClass:"item-old-price"},[t._v("￥"+t._s(t.itemInfo.oldPrice))]),s("div",{staticClass:"discount",style:{backgroundColor:t.itemInfo.bgColor}},[t._v(" "+t._s(t.itemInfo.discount)+" ")])]),s("div",{staticClass:"sales"},[s("span",[t._v(t._s(t.itemInfo.sales))]),s("span",[t._v(t._s(t.itemInfo.collection))]),s("div",[s("span",[t._v(t._s(t.servicesExpress.name))])])]),s("div",{staticClass:"services"},[s("div",[s("span",[s("img",{attrs:{src:t.servicesExpressPrice.icon,alt:""}}),t._v(" "+t._s(t.servicesExpressPrice.name)+" ")])]),s("div",[s("span",[s("img",{attrs:{src:t.servicesExpressGlobal.icon,alt:""}}),t._v(" "+t._s(t.servicesExpressGlobal.name)+" ")])]),s("div",[s("span",[s("img",{attrs:{src:t.servicesExpressNoreason.icon,alt:""}}),t._v(" "+t._s(t.servicesExpressNoreason.name)+" ")])])])])])},C=[],w={data:function(){return{services:{},service:{name:"",icon:""}}},props:{itemInfo:{type:Object,default:function(){return{}}}},computed:{servicesExpress:function(){return this.itemInfo.services?this.itemInfo.services[this.itemInfo.services.length-1]:this.service},servicesExpressPrice:function(){return this.itemInfo.services?this.itemInfo.services[0]:this.service},servicesExpressGlobal:function(){return this.itemInfo.services?this.itemInfo.services[1]:this.service},servicesExpressNoreason:function(){return this.itemInfo.services?this.itemInfo.services[2]:this.service}}},x=w,y=(s("fe12"),Object(u["a"])(x,g,C,!1,null,"91bc80b8",null)),k=y.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-info-content"},[s("div",{staticClass:"border"}),s("h1",{staticClass:"title"},[s("img",{attrs:{src:t.shopInfo.shopLogo,alt:""}}),t._v(" "+t._s(t.shopInfo.name)+" ")]),s("section",{staticClass:"shop-info"},[s("section",[s("p",[s("span",[t._v(" "+t._s(t.shopInfo.totalSales)+"万 ")]),s("span",[t._v("总销量")])]),s("p",[s("span",[t._v(" "+t._s(t.shopInfo.totalGoods))]),s("span",[t._v("全部宝贝")])])]),s("section",{staticClass:"score"},t._l(t.shopInfo.score,(function(e,i){return s("div",{key:e.id},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.score))]),s("span",{class:t.scoreIsBetter(i)},[t._v(" "+t._s(e.isBetter?"高":"低")+" ")])])})),0)]),s("section",{staticClass:"shop-btn"},[s("a",{attrs:{href:t.shopInfo.shopUrl}},[t._v(" 进店逛逛 ")])])])},N=[],$={data:function(){return{}},props:{shopInfo:{type:Object,default:function(){return{}}}},methods:{scoreIsBetter:function(t){return this.shopInfo.score[t].isBetter?"green":"red"}}},P=$,B=(s("2612"),Object(u["a"])(P,E,N,!1,null,"2c4af512",null)),R=B.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-images"},[t._v(" "+t._s(t.key)+" "),t._l(t.Imgaes,(function(e){return s("div",{key:e.id},[s("img",{attrs:{src:e,alt:""},on:{load:t.detailImagesLoad}})])}))],2)},O=[],j={name:"detailImages",data:function(){return{}},props:{detailImages:{type:Array,default:function(){return[]}}},computed:{key:function(){return this.detailImages[0]&&this.detailImages[0].key},Imgaes:function(){return this.detailImages[0]&&this.detailImages[0].list}},methods:{detailImagesLoad:function(){this.$emit("detailImagesLoad")}}},S=j,D=(s("3bd7"),Object(u["a"])(S,T,O,!1,null,"340867e0",null)),Y=D.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"params"},[s("section",{staticClass:"params-rule"},t._l(t.tables,(function(e){return s("div",{key:e.id,staticClass:"params-rule-table"},t._l(e,(function(e){return s("span",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)})),0),s("section",{staticClass:"params-info"},t._l(t.set,(function(e){return s("div",{key:e.id,staticClass:"params-info-set"},[s("span",[t._v(t._s(e.key))]),s("span",[t._v(t._s(e.value))])])})),0)])},F=[],G=(s("99af"),{name:"DetailParams",props:{itemParams:{type:Object,default:function(){return{}}}},computed:{tables:function(){if(this.itemParams.rule){var t=this.itemParams.rule.tables;if(t.length>1)for(var e=1;e<t.length;e++)for(var s in t[e])t[e][s].shift(),t[0][s]=t[0][s].concat(t[e][s]);return t[0]}return{}},set:function(){return this.itemParams.info?this.itemParams.info.set:{}}}}),U=G,A=(s("260c"),Object(u["a"])(U,L,F,!1,null,"8caa707e",null)),M=A.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-comment"},[t.detailRate.user?s("div",[t._m(0),s("section",{staticClass:"detail-comment-user"},[s("img",{attrs:{src:t.user.avatar,alt:""}}),s("span",[t._v(t._s(t.user.uname))])]),s("section",{staticClass:"detail-comment-content"},[s("p",[t._v(t._s(t.data.content))])]),s("section",{staticClass:"detail-comment-about"},[s("span",[t._v(t._s(t.date))]),s("span",[t._v(t._s(t.data.style))])]),s("section",{staticClass:"detail-comment-img clearfix"},t._l(t.data.images,(function(t){return s("img",{key:t.id,attrs:{src:t,alt:""}})})),0)]):s("div",[t._v("暂时没有评论")])])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"detail-comment-top"},[s("span",[t._v("用户评价")]),s("span",[t._v("更多")])])}],W=s("90b9"),X={name:"DetailComment",data:function(){return{}},props:{detailRate:{type:Object,default:function(){return{}}}},computed:{data:function(){return this.detailRate?this.detailRate:{}},user:function(){return this.data.user?this.data.user:{}},date:function(){var t=this.data.created;return t=new Date(1e3*t),t=Object(W["b"])(t,"yyyy-MM-dd hh:mm:ss"),t}}},q=X,z=(s("0db3"),Object(u["a"])(q,J,V,!1,null,"62b62473",null)),H=z.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-tool-bar"},[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"add-cart",on:{click:t.addCart}},[t._v("加入购物车")]),s("div",{staticClass:"tool-bar-buy"},[t._v("购买")])])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tool-bar-item"},[s("span",{staticClass:"icon"}),s("span",[t._v("客服")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tool-bar-item"},[s("span",{staticClass:"icon"}),s("span",[t._v("店铺")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tool-bar-item"},[s("span",{staticClass:"icon"}),s("span",[t._v("收藏")])])}],Z="addToCart",tt={name:"DetailToolBar",data:function(){return{}},props:{cartInfo:{type:Object,default:function(){return{}}}},methods:{addCart:function(){var t=this;this.$store.dispatch(Z,this.cartInfo).then((function(e){t.$toast.show(e),setTimeout((function(){t.toastShow=!1}),2e3)}))}}},et=tt,st=(s("e639"),Object(u["a"])(et,K,Q,!1,null,"3e4afc34",null)),it=st.exports,at=s("cb33");function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s("b0c0"),s("b680");var rt=s("1bab");function ot(t){return Object(rt["a"])({url:"detail?iid="+t})}function ct(){return Object(rt["a"])({url:"recommend"})}var lt=function t(e,s,i){nt(this,t),this.title=e.title,this.oldPrice=e.lowPrice,this.price=e.price,this.discount=e.discountDesc,this.bgColor=e.discountBgColor,this.sales=s[0],this.collection=s[1],this.services=i.services,this.desc=e.desc},ut=function t(e){nt(this,t),this.name=e.name,this.totalSales=(e.cSells/1e4).toFixed(1),this.totalGoods=e.cGoods,this.allGoodsUrl=e.allGoodsUrl,this.score=e.score,this.shopLogo=e.shopLogo,this.shopUrl=e.shopUrl,this.shopId=e.shopId},dt=function t(e){nt(this,t),this.iid=e.iid,this.lowNowPrice=e.lowNowPrice,this.desc=e.desc,this.title=e.title,this.image=e.topImages[0],this.count=0,this.select=0},ft=s("eecb"),mt={name:"detail",data:function(){return{iid:null,topImages:[],currentIndex:0,itemInfo:{},shopInfo:{},detailImages:[],itemParams:{},detailRate:{},detailRcommend:{},detailNavBarY:[],detailNavBarYPush:null,detailCartInfo:{}}},components:{DetailSwiper:f,DetailNav:b,ItemInfo:k,ShopInfo:R,Scroll:at["a"],DetailImages:Y,DetailParams:M,DetailComment:H,DetailToolBar:it},mixins:[ft["a"],ft["b"]],created:function(){this.iid=this.$route.params.iid,this.getDetailDatas(this.iid),this.getRecommend()},mounted:function(){this.navYDebounce()},methods:{getDetailDatas:function(t){var e=this;ot(t).then((function(t){var s=t.data.result;e.topImages=s.itemInfo.topImages,e.itemInfo=new lt(s.itemInfo,s.columns,s.shopInfo),e.shopInfo=new ut(s.shopInfo),e.detailImages=s.detailInfo.detailImage,e.itemParams=s.itemParams,e.detailRate=s.rate.list?s.rate.list[0]:{},e.detailCartInfo=new dt(s.itemInfo)}))},getRecommend:function(){var t=this;ct().then((function(e){t.detailRcommend=e.data.data}))},navTitleClick:function(t){this.currentIndex=t,this.$refs.scroll.scrollTo(0,-this.detailNavBarY[t],500)},navYDebounce:function(){var t=this,e=Object(W["a"])((function(){t.detailNavBarY=[],t.detailNavBarY.push(0),t.detailNavBarY.push(t.$refs.detailParams.$el.offsetTop),t.detailNavBarY.push(t.$refs.detailComment.$el.offsetTop),t.detailNavBarY.push(t.$refs.detailRcommend.$el.offsetTop),t.detailNavBarY.push(Number.MAX_VALUE)}));this.detailNavBarYPush=e},scrollRefresh:function(){this.Imagelistener(),this.detailNavBarYPush()},scrolling:function(t){for(var e=-t.y,s=0;s<this.detailNavBarY.length-1;s++)this.currentIndex!=s&&e>=this.detailNavBarY[s]&&e<this.detailNavBarY[s+1]&&(this.currentIndex=s);this.toTopShow=e>2e3}}},pt=mt,ht=(s("c587"),Object(u["a"])(pt,i,a,!1,null,"c4e90680",null));e["default"]=ht.exports},"7a74":function(t,e,s){t.exports=s.p+"img/back.d5a990cc.svg"},"92b7":function(t,e,s){},"99af":function(t,e,s){"use strict";var i=s("23e7"),a=s("d039"),n=s("e8b5"),r=s("861d"),o=s("7b0b"),c=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),f=s("b622"),m=s("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",_=m>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),I=d("concat"),b=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},g=!_||!I;i({target:"Array",proto:!0,forced:g},{concat:function(t){var e,s,i,a,n,r=o(this),d=u(r,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?r:arguments[e],b(n)){if(a=c(n.length),f+a>h)throw TypeError(v);for(s=0;s<a;s++,f++)s in n&&l(d,f,n[s])}else{if(f>=h)throw TypeError(v);l(d,f++,n)}return d.length=f,d}})},b680:function(t,e,s){"use strict";var i=s("23e7"),a=s("a691"),n=s("408a"),r=s("1148"),o=s("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,s){return 0===e?s:e%2===1?u(t,e-1,s*t):u(t*t,e/2,s)},d=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},f=function(t,e,s){var i=-1,a=s;while(++i<6)a+=e*t[i],t[i]=a%1e7,a=l(a/1e7)},m=function(t,e){var s=6,i=0;while(--s>=0)i+=t[s],t[s]=l(i/e),i=i%e*1e7},p=function(t){var e=6,s="";while(--e>=0)if(""!==s||0===e||0!==t[e]){var i=String(t[e]);s=""===s?i:s+r.call("0",7-i.length)+i}return s},h=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,s,i,o,c=n(this),l=a(t),h=[0,0,0,0,0,0],v="",_="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,s=e<0?c*u(2,-e,1):c/u(2,e,1),s*=4503599627370496,e=52-e,e>0){f(h,0,s),i=l;while(i>=7)f(h,1e7,0),i-=7;f(h,u(10,i,1),0),i=e-1;while(i>=23)m(h,1<<23),i-=23;m(h,1<<i),f(h,1,1),m(h,2),_=p(h)}else f(h,0,s),f(h,1<<-e,0),_=p(h)+r.call("0",l);return l>0?(o=_.length,_=v+(o<=l?"0."+r.call("0",l-o)+_:_.slice(0,o-l)+"."+_.slice(o-l))):_=v+_,_}})},c587:function(t,e,s){"use strict";s("408e")},d5fb:function(t,e,s){},e631:function(t,e,s){"use strict";s("92b7")},e639:function(t,e,s){"use strict";s("2467")},eeb1:function(t,e,s){},fc1b:function(t,e,s){},fe12:function(t,e,s){"use strict";s("18ae")},fefd:function(t,e,s){}}]);
//# sourceMappingURL=chunk-236e829e.aca1fe6d.js.map